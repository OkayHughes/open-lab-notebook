<!DOCTYPE html>
<html lang="en">
  <head>
    
    
    
    <meta charset="utf-8" />
    <link rel="icon" href="https://cdn.glitch.com/8af1b7af-efae-4a35-b1d7-e47b835582bc%2Fall_TMQ_moist_day5-1.ico?v=1630525741731" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Your new 11ty blog" />
    <link rel="stylesheet" type="text/css" href="/open-lab-notebook/public/style.css" />
    <link rel="stylesheet" type="text/css" href="/open-lab-notebook/public/fonts/cmu.css" />
    <link rel="stylesheet" type="text/css" href="/public/style.css" />
    <link rel="stylesheet" type="text/css" href="/public/fonts/cmu.css" />
 
    <link rel="stylesheet" href="https://unpkg.com/katex@latest/dist/katex.min.css" />
    
    <title>Open Lab Notebook</title>

<meta name="description" content="A blog which serves as my lab notebook, but which is visible to the world because I&apos;m a masochist.">
<meta name="robots" content="index,follow">
<meta name="author" content="undefined">

<link rel="canonical" href="https://undefined.glitch.me/posts/E3SM/config_machines/">

<meta property="og:title" content="Open Lab Notebook">
<meta property="og:type" content="article">

<meta property="og:url" content="https://undefined.glitch.me/posts/E3SM/config_machines/">
<meta property="og:description" content="A blog which serves as my lab notebook, but which is visible to the world because I&apos;m a masochist.">
<meta property="og:image" content="https://cdn.glitch.com/8af1b7af-efae-4a35-b1d7-e47b835582bc%2Fall_TMQ_moist_day5.png?v=1630525127233">

<meta name="twitter:card" content="summary">

<meta name="twitter:url" content="https://undefined.glitch.me/posts/E3SM/config_machines/">
<meta name="twitter:title" content="Open Lab Notebook">
<meta name="twitter:description" content="A blog which serves as my lab notebook, but which is visible to the world because I&apos;m a masochist.">
<meta name="twitter:image" content="https://cdn.glitch.com/8af1b7af-efae-4a35-b1d7-e47b835582bc%2Fall_TMQ_moist_day5.png?v=1630525127233">


  </head>
  <body>
  <main>
    
    
  
    


<div class="wrapper post">
  <div>
    
    <h1 class='postTitle'>config_machines.xml</h1>

    
    
    
    <pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;!-- This is an ordered list, not all fields are required, optional fields are noted below. --&gt;
&lt;config_machines version=&quot;2.0&quot;&gt;
&lt;!-- MACH is the name that you will use in machine options --&gt;

  &lt;machine MACH=&quot;greatlakes&quot;&gt;

    &lt;!-- DESC: a text description of the machine, this field is current not used in code--&gt;
    &lt;DESC&gt;UMich Great Lakes cluster, os is Linux, 36 PES/node, batch system is SLURM, GPFS on /scratch&lt;/DESC&gt;

    &lt;!-- NODENAME_REGEX: a regular expression used to identify this machine
	  it must work on compute nodes as well as login nodes, use machine option
	  to create_test or create_newcase if this flag is not available --&gt;
    &lt;NODENAME_REGEX&gt;gl.*\.arc-ts\.umich.edu&lt;/NODENAME_REGEX&gt;

    &lt;!-- OS: the operating system of this machine. Passed to cppflags for
	 compiled programs as -DVALUE  recognized are LINUX, AIX, Darwin, CNL --&gt;
    &lt;OS&gt;LINUX&lt;/OS&gt;

    &lt;!-- PROXY: optional http proxy for access to the internet--&gt;
    &lt;PROXY&gt;  &lt;/PROXY&gt;

    &lt;!-- COMPILERS: compilers supported on this machine, comma seperated list, first is default --&gt;
    &lt;COMPILERS&gt;gnu,intel&lt;/COMPILERS&gt;

    &lt;!-- MPILIBS: mpilibs supported on this machine, comma seperated list,
	     first is default, mpi-serial is assumed and not required in this list--&gt;
    &lt;MPILIBS&gt;mpich,openmpi&lt;/MPILIBS&gt;

    &lt;!-- PROJECT: A project or account number used for batch jobs
         This value is used for directory names. If different from
         actual accounting project id, use CHARGE_ACCOUNT
	 can be overridden in environment or $HOME/.cime/config --&gt;
    &lt;!--PROJECT&gt;my_cesm_project_placeholder&lt;/PROJECT--&gt;

    &lt;!-- CHARGE_ACCOUNT: A project or account number used for batch jobs
	 This is the actual project used for cost accounting set in
         the batch script (ex. #PBS -A charge_account). Will default
         to PROJECT if not set.
	 can be overridden in environment or $HOME/.cime/config --&gt;
    &lt;!-- &lt;CHARGE_ACCOUNT&gt;$ENV{MY_SLURM_ACCOUNT}&lt;/CHARGE_ACCOUNT&gt; --&gt;

    &lt;!-- SAVE_TIMING_DIR: (Acme only) directory for archiving timing output --&gt;
    &lt;!-- SAVE_TIMING_DIR&gt; &lt;/SAVE_TIMING_DIR --&gt;

    &lt;!-- SAVE_TIMING_DIR_PROJECTS: (Acme only) projects whose jobs archive timing output --&gt;
    &lt;!-- SAVE_TIMING_DIR_PROJECTS&gt; &lt;/SAVE_TIMING_DIR_PROJECTS --&gt;

    &lt;!-- CIME_OUTPUT_ROOT: Base directory for case output,
	 the case/bld and case/run directories are written below here --&gt;
    &lt;CIME_OUTPUT_ROOT&gt;$ENV{MY_E3SM_SCRATCH}/E3SMv2&lt;/CIME_OUTPUT_ROOT&gt;

    &lt;!-- DIN_LOC_ROOT: location of the inputdata data directory
	 inputdata is downloaded automatically on a case by case basis as
	 long as the user has write access to this directory.   We recommend that
	 all cime model users on a system share an inputdata directory
	 as it can be quite large --&gt;
    &lt;DIN_LOC_ROOT&gt;$ENV{DIN_LOC_ROOT}&lt;/DIN_LOC_ROOT&gt;

    &lt;!-- DIN_LOC_ROOT_CLMFORC: override of DIN_LOC_ROOT specific to CLM
	 forcing data --&gt;
    &lt;DIN_LOC_ROOT_CLMFORC&gt;$ENV{MY_E3SM_ROOT}/shared_lmwg&lt;/DIN_LOC_ROOT_CLMFORC&gt;

    &lt;!-- DOUT_S_ROOT: root directory of short term archive files, short term
      archiving moves model output data out of the run directory, but
      keeps it on disk--&gt;
    &lt;DOUT_S_ROOT&gt;$CIME_OUTPUT_ROOT/archive/$CASE&lt;/DOUT_S_ROOT&gt;

    &lt;!-- BASELINE_ROOT:  Root directory for system test baseline files --&gt;
    &lt;BASELINE_ROOT&gt;$ENV{MY_E3SM_ROOT}/e3sm_baselines&lt;/BASELINE_ROOT&gt;

    &lt;!-- CCSM_CPRNC: location of the cprnc tool, compares model output in testing--&gt;
    &lt;CCSM_CPRNC&gt;$ENV{MY_E3SM_ROOT}/cime/tools/cprnc/&lt;/CCSM_CPRNC&gt;

    &lt;!-- GMAKE: gnu compatible make tool, default is 'gmake' --&gt;
    &lt;GMAKE&gt;gmake&lt;/GMAKE&gt;

    &lt;!-- GMAKE_J: optional number of threads to pass to the gmake flag --&gt;
    &lt;GMAKE_J&gt;8&lt;/GMAKE_J&gt;

    &lt;!-- BATCH_SYSTEM: batch system used on this machine,
      supported values are: none, cobalt, lsf, pbs, slurm --&gt;
    &lt;BATCH_SYSTEM&gt;slurm&lt;/BATCH_SYSTEM&gt;

    &lt;!-- SUPPORTED_BY: contact information for support for this system
      this field is not used in code --&gt;
    &lt;SUPPORTED_BY&gt;arcts-support@umich.edu&lt;/SUPPORTED_BY&gt;

    &lt;!-- MAX_TASKS_PER_NODE: maximum number of threads*tasks per
	 shared memory node on this machine,
	 should always be &gt;= MAX_MPITASKS_PER_NODE --&gt;
    &lt;MAX_TASKS_PER_NODE&gt;36&lt;/MAX_TASKS_PER_NODE&gt;

    &lt;!-- MAX_MPITASKS_PER_NODE: number of physical PES per shared node on
	 this machine, in practice the MPI tasks per node will not exceed this value --&gt;
    &lt;MAX_MPITASKS_PER_NODE&gt;36&lt;/MAX_MPITASKS_PER_NODE&gt;

    &lt;!-- PROJECT_REQUIRED: Does this machine require a project to be specified to
	 the batch system?  See PROJECT above --&gt;
    &lt;PROJECT_REQUIRED&gt;FALSE&lt;/PROJECT_REQUIRED&gt;

    &lt;!-- mpirun: The mpi exec to start a job on this machine, supported values
	 are values listed in MPILIBS above, default and mpi-serial --&gt;
    &lt;mpirun mpilib=&quot;default&quot;&gt;
      &lt;!-- name of the exectuable used to launch mpi jobs --&gt;
      &lt;executable&gt;mpirun&lt;/executable&gt;
      &lt;!-- arguments to the mpiexec command, the name attribute here is ignored--&gt;
      &lt;arguments&gt;
        &lt;arg name=&quot;num_tasks&quot;&gt;-np   -bind-to=core &lt;/arg&gt;
      &lt;/arguments&gt;
    &lt;/mpirun&gt;
    &lt;mpirun mpilib=&quot;mpi-serial&quot;&gt;
      &lt;executable&gt;&lt;/executable&gt;
    &lt;/mpirun&gt;
    &lt;!-- module system: allowed module_system type values are:
	 module  http://www.tacc.utexas.edu/tacc-projects/mclay/lmod
	 soft http://www.mcs.anl.gov/hs/software/systems/softenv/softenv-intro.html
         none
      --&gt;
    &lt;module_system type=&quot;module&quot; allow_error=&quot;true&quot;&gt;
      &lt;init_path lang=&quot;perl&quot;&gt;/sw/arcts/centos7/lmod/lmod/init/perl&lt;/init_path&gt;
      &lt;init_path lang=&quot;python&quot;&gt;/sw/arcts/centos7/lmod/lmod/init/env_modules_python.py&lt;/init_path&gt;
      &lt;init_path lang=&quot;csh&quot;&gt;/sw/arcts/centos7/lmod/lmod/init/csh&lt;/init_path&gt;
      &lt;init_path lang=&quot;sh&quot;&gt;/sw/arcts/centos7/lmod/lmod/init/sh&lt;/init_path&gt;

      &lt;cmd_path lang=&quot;perl&quot;&gt;/sw/arcts/centos7/lmod/lmod/libexec/lmod perl&lt;/cmd_path&gt;
      &lt;cmd_path lang=&quot;python&quot;&gt;/sw/arcts/centos7/lmod/lmod/libexec/lmod python&lt;/cmd_path&gt;
      &lt;cmd_path lang=&quot;sh&quot;&gt;module&lt;/cmd_path&gt;
      &lt;cmd_path lang=&quot;csh&quot;&gt;module&lt;/cmd_path&gt;

      &lt;modules compiler=&quot;gnu&quot;&gt;
        &lt;command name=&quot;purge&quot;&gt;&lt;/command&gt;
        &lt;command name=&quot;load&quot;&gt;gcc/8.2.0&lt;/command&gt;
  	    &lt;command name=&quot;load&quot;&gt;cmake/3.17.3&lt;/command&gt;
      &lt;/modules&gt;
    &lt;/module_system&gt;

    &lt;!-- environment variables, a blank entry will unset a variable --&gt;
    &lt;environment_variables&gt;
      &lt;env name=&quot;NETCDF_C_PATH&quot;&gt;$ENV{NETCDF_C_PATH}&lt;/env&gt;
      &lt;env name=&quot;NETCDF_F_PATH&quot;&gt;$ENV{NETCDF_F_PATH}&lt;/env&gt;
      &lt;env name=&quot;PNETCDF_PATH&quot;&gt;$ENV{PNETCDF_PATH}&lt;/env&gt;
      &lt;env name=&quot;HDF5_PATH&quot;&gt;$ENV{HDF5_PATH}&lt;/env&gt;
      &lt;env name=&quot;PATH&quot;&gt;$ENV{DEPENDENCIES}/mpich/bin:$ENV{PATH}&lt;/env&gt;
      &lt;env name=&quot;LD_LIBRARY_PATH&quot;&gt;$ENV{PNETCDF_PATH}/lib:$ENV{NETCDF_C_PATH}/lib:$ENV{HDF5_PATH}/lib:$ENV{LD_LIBRARY_PATH}&lt;/env&gt;
      &lt;env name=&quot;OMP_STACKSIZE&quot;&gt;256M&lt;/env&gt;
      &lt;!--env name=&quot;MPI_TYPE_DEPTH&quot;&gt;16&lt;/env--&gt;
    &lt;/environment_variables&gt;
    &lt;!-- resource settings as defined in https://docs.python.org/2/library/resource.html --&gt;
    &lt;resource_limits&gt;
      &lt;resource name=&quot;RLIMIT_STACK&quot;&gt;-1&lt;/resource&gt;
    &lt;/resource_limits&gt;
  &lt;/machine&gt;

&lt;/config_machines&gt;
</code></pre>

    <div class="controls">

    
      
          <h3>
            Parent post:
      </h3>
          <ul><li><a href="/open-lab-notebook/posts/scratch/">scratch</a></li>
<li><a href="/open-lab-notebook/posts/E3SM/">E3SM</a></li>
<li><a href="/open-lab-notebook/posts/E3SM/E3SM_2.0_greatlakes/">Installing E3SM 2.0 on Greatlakes using my jank MPAS dependencies</a></li>
<li><a href="/open-lab-notebook/posts/E3SM/singularity_E3SM/">Singularity Container</a></li></ul>
      
      
      
      
      
    </div>
  </div>
</div>

      <footer class="footer">
        <div class="links">
          <a href="/">Home</a>
          <span class="divider">|</span>
          <a href="/posts">Posts</a>
          <span class="divider">|</span>
          <a href="/about">About</a>
        </div>
        <a class="btn--remix" target="_top" href="https://glitch.com/edit/#!/remix/glitch-hello-eleventy">
        <img src="https://cdn.glitch.com/605e2a51-d45f-4d87-a285-9410ad350515%2FLogo_Color.svg?v=1618199565140" alt="" /> 
        Remix on Glitch
        </a>
        <a class="btn--remix" target="_top" href="https://glitch.com/edit/#!/open-lab-notebook">
        Edit
        </a>
      </footer>
    
  </main>
   
  </body>
</html>
